# 9. Исследования рынка общепита в Москве для принятия решения об открытии нового заведения.
### Наша задача
Инвесторы из фонда «Shut Up and Take My Money» решили попробовать себя в новой области и открыть заведение общественного питания в Москве. Заказчики ещё не знают, что это будет за место: кафе, ресторан, пиццерия, паб или бар, — и какими будут расположение, меню и цены. Для начала они просят вас — аналитика — подготовить исследование рынка Москвы, найти интересные особенности и презентовать полученные результаты, которые в будущем помогут в выборе подходящего инвесторам места.

### Библиотеки:
python, pandas, seaborn, plotly, matplotlib, folium

### Вывод:
1. Из заведений общественного питания лидирует с большим отрывом - кафе, рестораны, кофейни. Остальные заведения находятся примерно в одном диапазоне.
2. По количеству мест также ведут заведения с категорями - кафе, рестораны, кофейни.
3. Несетевых заведений в Москве в 1.5 раза больше, чем сетевых.
4. Топ популярных мест по категориям занимают - кафе, кофейни, пиццерии.
5. Средний рейтинг всех заведений в Москве находится на отметке 4.3.
6. Средний чек заведений Москвы варируется от 450 до 1000 рублей.
7. Лучше всего открыть кофейню в районе Парк Кузьминки или Парк Царицино. Средний рейтинг там ниже всего, значит можно будет удивить людей интересной идеей либо интерьером. Средних чек на кофе так же являетяс самым низким по Москве, следовательно можно сделать ценник чуть ниже, чтоб набрать себе аудиторию и хорошие оценки.

**Рекомандации**

Взглянув на карту с "медианным рейтингом заведений" и количество кофеен по округам можно сделать вывод, что лучше всего открыть кофейню на Юге/Юго-Востоке Москвы в районе - Парк Кузьминки или Парк Царицино.

Почему именно эти районы? - Ответ прост, количество заведений сильно меньше, чем в остальных районах, а проходимость людей высокая, т.к. парк это место для свиданий, семейного препровождения времени и просто место отдыха, подумать о разных мыслях наедине с самим собой, а тёплый кофе поможет согреться в прохладное время года и окутает уютом. Медианные оценки заведений находятся на отметке 4.20, следовательно, если качественно проработать интерьер, подобрать проходимое место и с ответственностью подойти к всей организации заведения, то можно завоевать хорошие оценки и со временем увеличить средний чек. Главная задача на начальном этапе заинтересовать людей, показать им качество обслуживания и продукта.

Также хочется отметить среднюю цену за чашку кофе в рекомендованных районах Москвы - цена варируется от 150 до 165 рублей. Данный диапазон позволяет сделать скидки на первое время, чтоб увеличить охват + поможет привлечь внимание к заведению. Дальше дело за малым - поддерживать уровень заведения и акции для клиентов, если место будет успешным, то можно уже задуматься о франшизе, а дальше - больше.

Открытие кофеен с хорошим уровнем обслуживания - очень перспективный бизнес, т.к. средний чек на кофе и рейтинг по Москве позволяет захватить этот рынок и радовать людей согревающим напитком.

---
### Описание исходных данных:
- EventName — название события;
- DeviceIDHash — уникальный идентификатор пользователя;
- EventTimestamp — время события;
- ExpId — номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная.

#### Шаг 1. Откроем файл с данными и изучим общую информацию
#### Шаг 2. Подготовим данные
- Заменим названия столбцов на удобные для нас;
- Проверим пропуски и типы данных. Откорректируем, если нужно;
- Добавим столбец даты и времени, а также отдельный столбец дат;
#### Шаг 3. Изучим и проверим данные
- Сколько всего событий в логе?
- Сколько всего пользователей в логе?
- Сколько в среднем событий приходится на пользователя?
- Данными за какой период мы располагаем? Найдем максимальную и минимальную дату. Построим гистограмму по дате и времени.
- Много ли событий и пользователей мы потеряли, отбросив старые данные?
- Проверим, что у нас есть пользователи из всех трёх экспериментальных групп.
#### Шаг 4. Изучим воронку событий
- Посмотрим, какие события есть в логах, как часто они встречаются. Отсортируем события по частоте.
- Посчитаем, сколько пользователей совершали каждое из этих событий. Отсортируем события по числу пользователей. Посчитаем долю пользователей, которые хоть раз совершали событие.
- Предположим, в каком порядке происходят события. Все ли они выстраиваются в последовательную цепочку?
- По воронке событий посчитаем, какая доля пользователей проходит на следующий шаг воронки (от числа пользователей на предыдущем). То есть для последовательности событий A → B → C посчитаем отношение числа пользователей с событием B к количеству пользователей с событием A, а также отношение числа пользователей с событием C к количеству пользователей с событием B.
- На каком шаге теряете больше всего пользователей?
- Какая доля пользователей доходит от первого события до оплаты?
#### Шаг 5. Изучим результаты эксперимента
- Сколько пользователей в каждой экспериментальной группе?
- Есть 2 контрольные группы для А/А-эксперимента. Проверим, находят ли статистические критерии разницу между выборками 246 и 247.
- Выберем самое популярное событие. Посчитаем число пользователей, совершивших это событие в каждой из контрольных групп. Посчитаем долю пользователей, совершивших это событие. Проверим, будет ли отличие между группами статистически достоверным. Проделаем то же самое для всех других событий (удобно обернуть проверку в отдельную функцию). Можно ли сказать, что разбиение на группы работает корректно?
- Аналогично поступим с группой с изменённым шрифтом. Сравним результаты с каждой из контрольных групп в отдельности по каждому событию. Сравним результаты с объединённой контрольной группой.
- Посчитаем, сколько проверок статистических гипотез мы сделали. При уровне значимости 0.1 каждый десятый раз можно получать ложный результат.
