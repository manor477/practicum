# 8. Приложения Procrastinate Pro+
### Наша задача
На основе данных использования мобильного приложения для продажи продуктов питания проанализировать воронку продаж, а также оценить результаты A/A/B-тестирования

### Библиотеки:
pandas, datetime, numpy, matplotlib, scipy, math, plotly

### Вывод:
Нам нужно было исследовать и проанализировать конверсию пользователей в приложении и изучить результаты А/А/В-эксперимента. У нас имелось 3 группы, 2 из них контрольные и видели версию приложения со стрыми шрифтами, а ещё одна группа экспериментальная и видела приложение с новыми шрифтами.

Рассматривали мы это на данных с логами за период с 25.08.2019 по 08.08.2019, но т.к. часть данных была "доежающая", то взглянув на график мы сделали вывод, что актуальные и полные данные находятся за период с 01.08.2019 по 08.08.2019.

В результате среза данных было потеряно около 1% данных о событиях и пользователях.

Изучение воронки нам показало, что очень мало пользователей, кто задерживается на этапе 'Tutorial', общая масса его пропускает и сразу же переходит на 'Главный экран'.

Дальше мы откинули экран 'Tutorial' т.к. его процент посещения крайне мал и шаги по этапам, которые изначально задумывались разработчиками идут непоследовательно, следовательно мы можем спокойно исключить 'Tutorial' из нашей выборки. Получаем следующее:

- Самая большая доля доходимости получается у "Экран оплаты" и составляет **94.78%**, однако, на этом этапе остаётся сделать лишь оплату и по идее доходимость с предыдущего шага должна близиться к 100%, возможно что-то не так с переходом у разных устройств.
- Больше всего пользователей мы теряем на этапе перехода с "Главная страница" на "Страница предложений" - потеря составляет **38.09%**, а доходимость **61.91%**.
- Доля пользователей, дошедшая от первого события до этапа оплаты составляет - **46.97%**.

Группы для А/А-теста сформированы достаточно хорошо, конечно процент различия больше на **0.15%** чем граница в **1%**, но не критично.

После проведения А/А/В-теста не было выявлено различий между контрольными и экспериментальной группами, значит можем сделать вывод, что изменение шрифта никак не повлияет на покупательскую способность пользователей.

**Рекомандации**

Разобраться с экраном "Обучения", возможно его стоить совсем убрать, если практически никто из пользователей его не смотрит, значит интерфейс довольно нативный и нет необходимо загружать пользователей дополнительной ненужной информацией. Проверить, почему не 100% пользователей доходит до этапа "оплат" с этапа "корзина" - человек уже решил и добавил всё необходимое к себе, может быть там какие-то баги на разных устройствах, либо просто человеческий фактор, который решил в последний момент передумать. И главное, понять почему основной отток клиентов происходит после этапа посещения главной страницы - это характерной как для экспериментальной так и для контрольных групп.

---
### Описание исходных данных:
- EventName — название события;
- DeviceIDHash — уникальный идентификатор пользователя;
- EventTimestamp — время события;
- ExpId — номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная.

#### Шаг 1. Откроем файл с данными и изучим общую информацию
#### Шаг 2. Подготовим данные
- Заменим названия столбцов на удобные для нас;
- Проверим пропуски и типы данных. Откорректируем, если нужно;
- Добавим столбец даты и времени, а также отдельный столбец дат;
#### Шаг 3. Изучим и проверим данные
- Сколько всего событий в логе?
- Сколько всего пользователей в логе?
- Сколько в среднем событий приходится на пользователя?
- Данными за какой период мы располагаем? Найдем максимальную и минимальную дату. Построим гистограмму по дате и времени.
- Много ли событий и пользователей мы потеряли, отбросив старые данные?
- Проверим, что у нас есть пользователи из всех трёх экспериментальных групп.
#### Шаг 4. Изучим воронку событий
- Посмотрим, какие события есть в логах, как часто они встречаются. Отсортируем события по частоте.
- Посчитаем, сколько пользователей совершали каждое из этих событий. Отсортируем события по числу пользователей. Посчитаем долю пользователей, которые хоть раз совершали событие.
- Предположим, в каком порядке происходят события. Все ли они выстраиваются в последовательную цепочку?
- По воронке событий посчитаем, какая доля пользователей проходит на следующий шаг воронки (от числа пользователей на предыдущем). То есть для последовательности событий A → B → C посчитаем отношение числа пользователей с событием B к количеству пользователей с событием A, а также отношение числа пользователей с событием C к количеству пользователей с событием B.
- На каком шаге теряете больше всего пользователей?
- Какая доля пользователей доходит от первого события до оплаты?
#### Шаг 5. Изучим результаты эксперимента
- Сколько пользователей в каждой экспериментальной группе?
- Есть 2 контрольные группы для А/А-эксперимента. Проверим, находят ли статистические критерии разницу между выборками 246 и 247.
- Выберем самое популярное событие. Посчитаем число пользователей, совершивших это событие в каждой из контрольных групп. Посчитаем долю пользователей, совершивших это событие. Проверим, будет ли отличие между группами статистически достоверным. Проделаем то же самое для всех других событий (удобно обернуть проверку в отдельную функцию). Можно ли сказать, что разбиение на группы работает корректно?
- Аналогично поступим с группой с изменённым шрифтом. Сравним результаты с каждой из контрольных групп в отдельности по каждому событию. Сравним результаты с объединённой контрольной группой.
- Посчитаем, сколько проверок статистических гипотез мы сделали. При уровне значимости 0.1 каждый десятый раз можно получать ложный результат.
